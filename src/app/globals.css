@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: Arial, Helvetica, sans-serif;
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Glassmorphism and aurora utilities */
@layer components {
  .glass {
    @apply relative overflow-hidden bg-white/10 backdrop-blur-2xl backdrop-saturate-150 border border-white/30 rounded-2xl ring-1 ring-inset ring-white/25 shadow-lg;
    background-color: rgba(255, 255, 255, 0.08);
    box-shadow:
      inset 0 1px 0 rgba(255, 255, 255, 0.15),
      0 8px 20px rgba(0, 0, 0, 0.06);
  }
  .glass::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: radial-gradient(
        120% 60% at 10% -10%,
        rgba(255, 255, 255, 0.22),
        transparent 60%
      ),
      linear-gradient(180deg, rgba(255, 255, 255, 0.05), transparent 60%);
    pointer-events: none;
    mix-blend-mode: screen;
  }
  .glass::after {
    content: '';
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.1),
      rgba(255, 255, 255, 0.03) 40%,
      transparent 60%
    );
    pointer-events: none;
    mix-blend-mode: screen;
  }
  .glass-hover {
    @apply transition-all duration-300 hover:-translate-y-0.5 hover:shadow-xl hover:backdrop-brightness-105 hover:backdrop-saturate-150;
  }
  .glass-chip {
    @apply bg-white/10 border border-white/30 backdrop-blur-2xl backdrop-saturate-150 rounded-xl px-3 py-1.5 text-sm ring-1 ring-inset ring-white/25;
  }
  .glass-rail {
    @apply bg-white/25;
  }

  /* Circular glass-lens hover for primary CTA */
  .liquid-spot {
    position: relative;
    overflow: hidden;
    isolation: isolate;
  }
  .liquid-spot > * {
    position: relative;
    z-index: 2;
  }
  .liquid-spot::after {
    content: '';
    position: absolute;
    width: 140%;
    aspect-ratio: 1/1;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.95);
    border-radius: 9999px;
    background: radial-gradient(
        closest-side,
        rgba(255, 255, 255, 0.6),
        rgba(255, 255, 255, 0.22) 55%,
        rgba(0, 0, 0, 0.06) 65%,
        transparent 75%
      ),
      radial-gradient(closest-side, rgba(255, 255, 255, 0.18), transparent 70%);
    z-index: 1;
    filter: blur(10px);
    opacity: 0;
    transition:
      transform 500ms cubic-bezier(0.2, 0.6, 0.2, 1),
      opacity 500ms ease;
    pointer-events: none;
    will-change: transform, opacity;
  }
  .liquid-spot:hover::after,
  .liquid-spot:focus-visible::after {
    animation: liquid-spot-pulse 900ms ease-out both;
  }

  @keyframes liquid-spot-pulse {
    0% {
      transform: translate(-50%, -50%) scale(0.95);
      opacity: 0;
    }
    60% {
      transform: translate(-50%, -50%) scale(1.12);
      opacity: 0.7;
    }
    100% {
      transform: translate(-50%, -50%) scale(1.05);
      opacity: 0.45;
    }
  }
}

@layer utilities {
  .heading-glow {
    text-shadow:
      0 1px 0 rgba(0, 0, 0, 0.02),
      0 8px 30px rgba(0, 0, 0, 0.18);
  }

  .aurora-bg {
    position: relative;
  }
  .aurora-bg::before {
    content: '';
    position: absolute;
    left: -10%;
    right: -10%;
    top: -10%;
    height: 60%;
    background: radial-gradient(
        600px 200px at 10% 20%,
        rgba(99, 102, 241, 0.35),
        transparent 60%
      ),
      radial-gradient(
        500px 250px at 80% 0%,
        rgba(236, 72, 153, 0.25),
        transparent 60%
      ),
      radial-gradient(
        400px 200px at 50% 100%,
        rgba(20, 184, 166, 0.25),
        transparent 60%
      );
    filter: blur(40px);
    pointer-events: none;
    z-index: 0;
  }
  .aurora-bg::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      800px 400px at 50% -10%,
      rgba(255, 255, 255, 0.06),
      transparent 60%
    );
    pointer-events: none;
    z-index: 0;
  }

  .aurora-blue {
    position: relative;
  }
  .aurora-blue::before {
    content: '';
    position: absolute;
    left: -10%;
    right: -10%;
    top: -10%;
    height: 60%;
    background: radial-gradient(
        600px 200px at 10% 20%,
        rgba(56, 189, 248, 0.35),
        transparent 60%
      ),
      radial-gradient(
        500px 250px at 80% 0%,
        rgba(99, 102, 241, 0.25),
        transparent 60%
      ),
      radial-gradient(
        400px 200px at 50% 100%,
        rgba(16, 185, 129, 0.25),
        transparent 60%
      );
    filter: blur(40px);
    pointer-events: none;
    z-index: 0;
  }
  .aurora-blue::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      800px 400px at 50% -10%,
      rgba(255, 255, 255, 0.06),
      transparent 60%
    );
    pointer-events: none;
    z-index: 0;
  }
}

/* Extra utilities and components for subtle motion and accents */
@layer utilities {
  /* Animated shimmer underline for section headings */
  .shimmer-underline {
    position: relative;
    display: inline-block;
  }
  .shimmer-underline::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    bottom: -6px;
    height: 2px;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.6),
      transparent
    );
    background-size: 200% 100%;
    animation: underline-shimmer 2500ms linear infinite;
    opacity: 0.7;
  }
  @keyframes underline-shimmer {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  /* Gentle floating animation (e.g., for avatar) */
  .float-slow {
    animation: float-slow 6s ease-in-out infinite;
    will-change: transform;
  }
  @keyframes float-slow {
    0%,
    100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-6px);
    }
  }
}

@layer components {
  /* Conic gradient ring for circular avatars */
  .avatar-ring {
    position: relative;
    border-radius: 9999px;
    padding: 3px; /* ring thickness */
    background: conic-gradient(
      from 180deg at 50% 50%,
      rgba(99, 102, 241, 0.6),
      rgba(14, 165, 233, 0.6),
      rgba(16, 185, 129, 0.6),
      rgba(99, 102, 241, 0.6)
    );
    box-shadow: 0 2px 18px rgba(0, 0, 0, 0.25);
  }
  .avatar-ring > img {
    display: block;
    border-radius: 9999px;
  }

  /* Subtle gradient border accent for cards without changing glass styles */
  .card-accent {
    position: relative;
    border-radius: 1rem; /* match rounded-2xl */
    border: 1px solid transparent; /* gradient border without pseudo-element */
    background:
      linear-gradient(#0000, #0000) padding-box,
      linear-gradient(
          135deg,
          rgba(99, 102, 241, 0.35),
          rgba(14, 165, 233, 0.35),
          rgba(16, 185, 129, 0.35)
        )
        border-box;
    background-clip: padding-box, border-box;
    isolation: isolate; /* prevent blend glitches with inner glass layers */
  }

  /* Micro tilt for hover elevation */
  .tilt-on-hover {
    transition:
      transform 300ms ease,
      box-shadow 300ms ease;
    will-change: transform;
    backface-visibility: hidden; /* fix thin seam on transforms */
    transform: translateZ(0); /* promote to its own layer to avoid artifacts */
  }
  .tilt-on-hover:hover {
    transform: translateZ(0) translateY(-2px) rotateX(1deg) rotateY(-1deg);
  }

  /* Animated chips for links */
  .chip-animated {
    transition:
      transform 200ms ease,
      box-shadow 200ms ease;
  }
  .chip-animated:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
  }
}

@layer components {
  /* Markdown body defaults for lists, used inside dangerouslySetInnerHTML */
  .md-body {
    line-height: 1.7;
  }
  .md-body ul {
    list-style: disc;
    padding-left: 1.25rem; /* pl-5 */
    margin: 0.25rem 0; /* my-1 */
  }
  .md-body ol {
    list-style: decimal;
    padding-left: 1.25rem; /* pl-5 */
    margin: 0.25rem 0; /* my-1 */
  }
  .md-body li {
    margin: 0.25rem 0; /* my-1 */
  }
  .md-body ul ul {
    list-style: circle;
  }
  .md-body ol ol {
    list-style: lower-roman;
  }

  /* Timeline rail node styling to better integrate with the glass/aurora theme */
  .rail-node {
    background: radial-gradient(
        circle at 50% 50%,
        rgba(255, 255, 255, 0.9) 0 40%,
        rgba(255, 255, 255, 0.65) 45%,
        transparent 52%
      ),
      conic-gradient(
        from 180deg at 50% 50%,
        rgba(99, 102, 241, 0.6),
        rgba(14, 165, 233, 0.6),
        rgba(16, 185, 129, 0.6),
        rgba(99, 102, 241, 0.6)
      );
    border: 1px solid rgba(255, 255, 255, 0.35);
    box-shadow:
      0 0 0 1px rgba(255, 255, 255, 0.2) inset,
      0 8px 20px rgba(0, 0, 0, 0.25),
      0 0 12px rgba(99, 102, 241, 0.35);
  }
  .rail-node::after {
    content: '';
    position: absolute;
    inset: -6px;
    border-radius: 9999px;
    background: radial-gradient(
      closest-side,
      rgba(99, 102, 241, 0.25),
      transparent 70%
    );
    filter: blur(6px);
    pointer-events: none;
  }

  /* Timeline card connector lines + pointers */
  .timeline-card {
    position: relative;
  }
  .timeline-left::after,
  .timeline-right::after {
    content: '';
    position: absolute;
    top: 1.5rem;
    height: 1px;
    background: rgba(255, 255, 255, 0.35);
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.05) inset;
  }
  .timeline-left::after {
    right: -1rem;
    width: 0;
  }
  .timeline-right::after {
    left: -1rem;
    width: 0;
  }

  .timeline-left::before,
  .timeline-right::before {
    content: '';
    position: absolute;
    top: 1.25rem; /* align near connector */
    width: 0;
    height: 0;
    border: 6px solid transparent;
    filter: drop-shadow(0 0 6px rgba(0, 0, 0, 0.2));
  }
  .timeline-left::before {
    right: -0.75rem;
    border-left-color: rgba(255, 255, 255, 0.35);
  }
  .timeline-right::before {
    left: -0.75rem;
    border-right-color: rgba(255, 255, 255, 0.35);
  }

  @media (min-width: 768px) {
    .timeline-left::after,
    .timeline-right::after {
      width: 2.5rem;
    }
  }
}

@layer utilities {
  .heartbeat-pulse {
    animation: heartbeat 2.5s ease-in-out infinite;
  }

  @keyframes heartbeat {
    0%,
    100% {
      transform: scale(1);
      opacity: 0.6;
    }
    50% {
      transform: scale(1.5);
      opacity: 0.3;
    }
  }
}
